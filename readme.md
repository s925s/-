# 明背景A / 暗背景B 変幻合成ツール

## 概要:
このツールは、画像A（明るい背景で見せたい画像）と、画像B（暗い背景で見せたい画像）の2つを読み込み、1枚の透過PNGとして統合します。
表示環境の背景明度により、AとBが切り替わる「魔法の画像」を生成します。
また、投げわ機能により、画像内の特定領域を「常にAで表示」「常にBで表示」に固定することができます。

## 実行ファイル: このスクリプト (.py)
GUI: PySide6


## 必要環境:
Python 3.9+
インストール:
pip install PySide6

（任意）OpenCV・Numpyは不要です。


## 実行方法:
python <ファイル名>.py


## 操作手順:

### 1. 画像読み込み
- 「画像A（サムネ）」を読み込む → 明背景時に見える画像
- 「画像B（拡大時）」を読み込む → 暗背景時に見える画像
- 左プレビューが A、右プレビューが B の表示確認領域

### 2. 出力サイズとリサイズ
- 出力幅 / 出力高 を指定する
- リサイズ方法を選択
  自動 (中央クロップ)
  横幅に合わせる (中央クロップ)
  縦幅に合わせる (中央クロップ)

### 3. プラットフォーム基準
- Android/PC = 背景は白 (基準グレー値: 255)
- iPhone = 背景は灰色 (基準グレー値: 約216)

この値に基づき、A/B の合成アルファと最終色が決定される。

### 4. 投げわ機能（部分固定）
- 左プレビューで左クリックドラッグ → 投げわ描画
- 「A面削除」= 選択部分は常にB表示
- 「B面削除」= 選択部分は常にA表示
- 「投げわリセット」= 全解除

### 5. 保存
- 「画像を出力する」を押す
- PNGとして保存される
- 保存名形式:
  YYYYMMDDhhmmss_WxH_Platform.png


## 内部処理で使用される主な概念:
- 画像Aと画像Bを同じサイズへリサイズしてから合成
- 明度基準値 (Bg) を用いて以下の計算を行う:
  α = (Bg - A + B) / Bg
  画像色 = B / α
- 投げわ領域はマスクとして保持し、該当領域のみ強制的にAまたはBを不透明で焼き付ける


# 権利および利用条件（重要）:

このツールに関するすべての権利は twitter: @s925nipa が保有します。

許可されている行為:
- ローカル環境で実行すること（個人使用のみ）

禁止される行為:
- コピー
- 改変
- 再配布
- 公開（SNS / GitHub / Discord / 動画 / ブログ など全て）
- 商用利用・販売・譲渡
- 処理ロジック・UI・コード・アルゴリズム・合成方式の引用解析

実行以外の全ての行為を禁止します。
使用者は、このツールを実行した時点で上記に同意したものとみなします。

権利者連絡先:
twitter: https://twitter.com/s925nipa


